{"version":3,"file":"index.js","sources":["../../src/utils.js","../../src/main.js"],"sourcesContent":["export function $(id) {\r\n    return document.querySelector(id)\r\n}\r\nexport function display(el, bool) {\r\n    el.style.display = bool ? 'inline-block' : 'none';\r\n}\r\nexport function addClass(el, cls) {\r\n    el.classList.add(cls);\r\n}\r\nexport function removeClass(el, cls) {\r\n    el.classList.remove(cls);\r\n}\r\nexport function css(el, key, val) {\r\n    el.style[key] = val;\r\n}\r\nexport function stopEvent(e) {\r\n    if (e && e.stopPropagation) {\r\n        e.stopPropagation();\r\n        e.stopImmediatePropagation()\r\n    } else {\r\n        window.event.cancelBubble = true;\r\n    }\r\n}\r\n\r\nexport function stopClick(el) {\r\n    el.onclick = function (e) {\r\n        stopEvent(e);\r\n        return false\r\n    }\r\n}\r\n\r\nexport function stopMouseEvent(el) {\r\n    el.onmousedown = function (e) {\r\n        stopEvent(e);\r\n        return false\r\n    }\r\n    el.onmouseup = function (e) {\r\n        stopEvent(e);\r\n        return false\r\n    }\r\n}\r\nlet curr_time = '00:00';\r\nexport function realFormatSecond(second) {\r\n    let secondType = typeof second;\r\n    let time = '00:00';\r\n    if (secondType === 'number' || secondType === 'string') {\r\n        second = parseInt(second);\r\n\r\n        let hours = Math.floor(second / 3600);\r\n        second = second - hours * 3600;\r\n        let mimute = Math.floor(second / 60);\r\n        second = second - mimute * 60;\r\n\r\n        time = ('0' + mimute).slice(-2) + ':' + ('0' + second).slice(-2)\r\n    } else {\r\n        time = '00:00'\r\n    }\r\n    if (curr_time === time) {\r\n        return null\r\n    } else {\r\n        curr_time = time;\r\n        return curr_time;\r\n    }\r\n}","import {\r\n    $,\r\n    display,\r\n    addClass,\r\n    css,\r\n    stopEvent,\r\n    removeClass,\r\n    realFormatSecond,\r\n    stopMouseEvent\r\n} from \"./utils\";\r\n\r\nlet vm;\r\nclass ZVideo {\r\n    constructor(options) {\r\n        vm = this;\r\n        Object.assign(vm, options, {\r\n            iconLink: '//at.alicdn.com/t/font_2197806_tdbemn1kgp.css', //图标\r\n            isPlay: false, //是否播放\r\n            currentItem: null,\r\n            currentIndex: 0,\r\n            percent: 0,\r\n            timeStr: '00:00',\r\n            durationStr: '00:00',\r\n            canplay: false,\r\n            isShowList: false,\r\n            isError: false,\r\n            isVoice: true,\r\n            isFull: false,\r\n            messageTime: 3000\r\n        });\r\n        if (!vm.id) {\r\n            console.warn('请设置id')\r\n            return;\r\n        }\r\n        //初始化\r\n        this._init();\r\n    }\r\n\r\n    _init() {\r\n        //保存容器元素\r\n        vm.$el = $(this.id);\r\n        vm.$el.classList.add('z-video');\r\n        //创建视频元素 crossOrigin=\"*\"\r\n        vm.$el.innerHTML = `<div class=\"z-video-container\">\r\n                                <video  id=\"z-video\"\r\n                                        rossOrigin=\"anonymous\"\r\n                                        ${vm.autoplay && 'autoplay=\"true\"'}\r\n                                        ${vm.muted && 'muted=\"true\"'}\r\n                                        ${vm.loop && 'loop=\"true\"'}\r\n                                        ${vm.poster && `poster=\"${vm.poster}\"`}\r\n                                        style=\"width: ${vm.width ? vm.width + 'px' : '100%'};height: ${vm.height ? vm.height + 'px' : 'auto'}\">\r\n                                    <source class=\"z-video-source\" type=\"video/mp4\"/>\r\n                                    <source class=\"z-video-source\" type=\"video/ogg\"/>\r\n                                    <source class=\"z-video-source\" type=\"video/webm\"/>\r\n                                </video>\r\n                            </div>\r\n                            <div class=\"z-video-no-select z-video-control\" id=\"z-video-control\">\r\n                                <div class=\"z-progress\">\r\n                                  <i class=\"z-progress-line\" id=\"z-progress-line\"></i>\r\n                                  <i class=\"z-progress-bar\" id=\"z-progress-bar\"></i>\r\n                                  <div id=\"z-progress\" style=\"position: absolute;width: 100%;z-index: 999;height: 100%;\"></div>\r\n                                </div>\r\n                                <div class=\"z-video-control-item\">\r\n                                    <i id=\"z-play-pause\" class=\"z-play-pause iconfont ${vm.autoplay ? 'icon-shitinghui' : 'icon-bofang'}\"></i>\r\n                                    <i id=\"z-video-prev\" class=\"z-video-prev iconfont icon-shangyiji\"></i>\r\n                                    <i id=\"z-video-next\" class=\"z-video-next iconfont icon-xiayiji\"></i>\r\n                                    <span class=\"z-video-time\"><i id=\"z-video-time\">${vm.timeStr}</i> / <i id=\"z-video-duration\">${vm.durationStr}</i></span>\r\n                                </div>\r\n                                <div class=\"z-video-control-item\">\r\n                                    <i id=\"z-video-voice\" class=\"z-video-voice iconfont ${vm.isVoice ? 'icon-laba' : 'icon-guanbishengyin'}\"></i>\r\n                                    <i id=\"z-video-full\" class=\"z-video-full iconfont icon-quanping\"></i>\r\n                                    <i id=\"z-video-list\" class=\"z-video-list iconfont icon-liebiao\"></i>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"z-video-list-content\" id=\"z-video-list-content\" style=\"width: 0\">\r\n                                <p class=\"z-video-play-title\"><i style=\"font-size: 14px;\" class=\"iconfont icon-dayu\"></i>播放列表（<span id=\"z-video-play-title\">0</span>）</p>\r\n                                <div class=\"z-video-list-box scrollbar\" id=\"z-video-list-box\"></div>\r\n                            </div>\r\n                            <i class=\"z-video-error iconfont icon-wangluocuowu1\" id=\"z-video-error\">网路错误</i>\r\n                            <i class=\"z-video-loading iconfont icon-jiazai\" id=\"z-video-loading\"></i>\r\n                            <span class=\"z-video-message\" id=\"z-video-message\"></span>\r\n                            <div class=\"z-video-pan\"  id=\"z-video-audio\">\r\n                                <i class=\"z-video-pan-circle c-1\"></i>\r\n                                <i class=\"z-video-pan-circle c-2\"></i>\r\n                                <i class=\"z-video-pan-circle c-3\"></i>\r\n                                <i class=\"z-video-pan-circle c-4\"></i>\r\n                                <i class=\"z-video-pan-circle c-5\"></i>\r\n                                <i class=\"z-video-pan-circle c-6\"></i>\r\n                                <i class=\"z-video-pan-circle c-7\"></i>\r\n                                <i class=\"z-video-pan-circle c-8\"></i>\r\n                                <i class=\"z-video-pan-circle c-9\"></i>\r\n                                <i class=\"z-video-pan-circle c-10\"></i>\r\n                                <i class=\"z-video-pan-circle c-11\"></i>\r\n                                <i class=\"z-video-pan-circle c-12\"></i>\r\n                                <i class=\"z-video-pan-circle c-13\"></i>\r\n                                <i class=\"z-video-pan-circle c-14\"></i>\r\n                                <i class=\"z-video-pan-circle c-15\"></i>\r\n                                <i class=\"z-video-audio iconfont icon-yinpin1\"></i>\r\n                            </div>\r\n                        `;\r\n\r\n        //设置字体图标\r\n        let link = document.createElement('link');\r\n        link.setAttribute('rel', 'stylesheet');\r\n        link.setAttribute('href', vm.iconLink);\r\n        document.head.appendChild(link);\r\n\r\n        //初始化元素\r\n        vm.$video = $('#z-video');\r\n        //控制条\r\n        vm.$control = $('#z-video-control');\r\n        //暂停播放\r\n        vm.$play = $('#z-play-pause');\r\n        //上一集\r\n        vm.$prev = $('#z-video-prev');\r\n        //下一集\r\n        vm.$next = $('#z-video-next');\r\n        //时间\r\n        vm.$time = $('#z-video-time');\r\n        //时长\r\n        vm.$duration = $('#z-video-duration');\r\n        //声音\r\n        vm.$voice = $('#z-video-voice');\r\n        //全屏\r\n        vm.$full = $('#z-video-full');\r\n        //列表\r\n        vm.$list = $('#z-video-list');\r\n        //列表个数\r\n        vm.$count = $('#z-video-play-title');\r\n        //列表容器\r\n        vm.$listBox = $('#z-video-list-box');\r\n        vm.$listView = $('#z-video-list-content');\r\n\r\n        //加载\r\n        vm.$loading = $('#z-video-loading');\r\n        //进度条\r\n        vm.$progress = $('#z-progress');\r\n        vm.$progressLine = $('#z-progress-line');\r\n        vm.$progressBar = $('#z-progress-bar');\r\n        vm.$message = $('#z-video-message');\r\n        vm.$error = $('#z-video-error');\r\n        vm.$audio = $('#z-video-audio');\r\n\r\n\r\n        if (!Array.isArray(vm.sources)) {\r\n            vm.sources = [];\r\n            if (vm.error_fn) vm.error_fn('资源列表不能为空');\r\n            vm._message({\r\n                type: 'error',\r\n                message: '资源列表不能为空！'\r\n            })\r\n            return;\r\n        }\r\n        if (!navigator.onLine) {\r\n            vm._message({\r\n                type: 'error',\r\n                message: '网络错误！'\r\n            })\r\n            if (vm.error_fn) vm.error_fn('网络错误');\r\n            display(vm.$error, true)\r\n        }\r\n\r\n        vm._onChange(0);\r\n\r\n        vm._initVideo();\r\n\r\n        vm._control(false);\r\n        vm._initList();\r\n\r\n        //事件初始化\r\n        vm._initEvent();\r\n\r\n    }\r\n    _initVideo() {\r\n\r\n        //可以播放\r\n        vm.$video.addEventListener('canplay', () => {\r\n            vm.isError = false;\r\n            vm.canplay = true;\r\n            vm.durationStr = realFormatSecond(vm.$video.duration);\r\n            vm.$duration.innerText = vm.durationStr;\r\n            vm.isPlay ? vm._play() : vm._pause();\r\n            vm._loading(false);\r\n            if (!vm.is_ctrl && !vm.is_init) {\r\n                vm.is_init = true;\r\n                vm._control(true);\r\n            }\r\n            display(vm.$error, false);\r\n        })\r\n\r\n        //视频播放\r\n        vm.$video.addEventListener('timeupdate', (e) => {\r\n            vm.percent = (vm.$video.currentTime / vm.$video.duration) * 100;\r\n            vm._setTimeStr();\r\n            vm._setBar();\r\n            if (vm.timeupdate_fn) {\r\n                vm.timeupdate_fn(e)\r\n            }\r\n        })\r\n\r\n        vm.$video.addEventListener('ended', () => {\r\n            vm._pause();\r\n        })\r\n\r\n        vm.$video.addEventListener('error', (e) => {\r\n            vm.isError = true;\r\n            vm._pause();\r\n            if (vm.error_fn) vm.error_fn('视频加载出现错误', e);\r\n            vm._message({\r\n                type: 'error',\r\n                message: '视频加载出现错误！'\r\n            })\r\n            addClass(vm.$listItme[vm.currentIndex], 'error')\r\n        })\r\n    }\r\n\r\n    _initEvent() {\r\n        //监听鼠标移出视频容器\r\n        function videoover() {\r\n            if (vm.canplay && !vm.is_ctrl) vm._control(true);\r\n        }\r\n        function videoleave() {\r\n            vm.$video.mousetimer = setTimeout(() => {\r\n                vm._control(false);\r\n                vm._closeList();\r\n            }, 2200)\r\n        }\r\n        vm.$video.onmouseover = () => { videoover() }\r\n        vm.$video.onmouseleave = () => { videoleave() }\r\n        vm.$control.onmouseover = () => { videoover() }\r\n        vm.$control.onmouseleave = () => { videoleave() }\r\n        vm.$listView.onmouseover = () => { videoover() }\r\n        vm.$listView.onmouseleave = () => { videoleave() }\r\n        //播放暂停按钮\r\n        stopMouseEvent(vm.$play);\r\n        vm.$play.onclick = e => {\r\n            stopEvent(e);\r\n            vm.isPlay ? vm._pause() : vm._play();\r\n        }\r\n\r\n        stopMouseEvent(vm.$list);\r\n        vm.$list.onclick = e => {\r\n            stopEvent(e);\r\n            vm.isShowList ? vm._closeList() : vm._openList();\r\n        }\r\n        stopMouseEvent(vm.$voice);\r\n        vm.$voice.onclick = e => {\r\n            vm.isVoice ? vm._closeVoice() : vm._openVoice();\r\n        }\r\n        stopMouseEvent(vm.$full);\r\n        vm.$full.onclick = e => {\r\n            stopEvent(e);\r\n            vm.isFull ? vm._exitFull() : vm._full();\r\n        }\r\n        vm.$video.onclick = e => {\r\n            stopEvent(e);\r\n            vm._closeList();\r\n        }\r\n        stopMouseEvent(vm.$prev);\r\n        vm.$prev.onclick = e => {\r\n            stopEvent(e);\r\n            vm._prev()\r\n        }\r\n        stopMouseEvent(vm.$next);\r\n        vm.$next.onclick = e => {\r\n            stopEvent(e);\r\n            vm._next();\r\n        }\r\n\r\n\r\n\r\n        function onmousedown() {\r\n            vm.mouseDown = true;\r\n            addClass(vm.$progressBar, 'active')\r\n            addClass(vm.$progressBar, 'no');\r\n            vm.$video.pause();\r\n        }\r\n        function onmouseup(offsetX) {\r\n            if (vm.mouseDown) {\r\n                removeClass(vm.$progressBar, 'active');\r\n                removeClass(vm.$progressBar, 'no');\r\n                vm._setSliderPointerValue(offsetX);\r\n                vm._setVideoTime();\r\n                if (vm.isPlay) {\r\n                    vm.$video.play();\r\n                }\r\n                vm.mouseDown = false;\r\n            }\r\n        }\r\n        function onmousemove(offsetX) {\r\n            if (vm.mouseDown) {\r\n                vm._setSliderPointerValue(offsetX)\r\n            }\r\n        }\r\n\r\n        //鼠标按下\r\n        vm.$progress.onmousedown = () => {\r\n            onmousedown();\r\n        }\r\n        //鼠标抬起\r\n        vm.$progress.onmouseup = e => {\r\n            onmouseup(e.offsetX)\r\n        }\r\n\r\n        vm.$progress.onmousemove = e => {\r\n            onmousemove(e.offsetX)\r\n        }\r\n\r\n        vm.$progress.onmouseleave = e => {\r\n            onmouseup(e.offsetX)\r\n        }\r\n\r\n\r\n        vm.$progress.addEventListener('touchstart', () => {\r\n            onmousedown();\r\n        })\r\n        vm.$progress.addEventListener('touchend', e => {\r\n            onmouseup(e.changedTouches[0].clientX)\r\n        })\r\n        vm.$progress.addEventListener('touchmove', e => {\r\n            onmousemove(e.changedTouches[0].clientX)\r\n        })\r\n\r\n        window.addEventListener('online', () => {\r\n            vm._message({\r\n                type: 'success',\r\n                message: '网路已连接！'\r\n            })\r\n            display(vm.$error, false)\r\n        });\r\n\r\n        window.addEventListener('offline', () => {\r\n            vm._message({\r\n                type: 'error',\r\n                message: '网路已断开！'\r\n            })\r\n            display(vm.$error, true)\r\n        });\r\n\r\n        window.addEventListener('resize', () => {\r\n            if (vm.isFull) {\r\n                vm._exitFull_fn();\r\n            }\r\n        });\r\n\r\n        window.addEventListener('keyup', e => {\r\n            if (e.keyCode === 32) {\r\n                vm.isPlay ? vm._pause() : vm._play();\r\n            }\r\n            if (e.keyCode === 39 || e.keyCode === 37) {\r\n                vm.$video.play();\r\n            }\r\n        })\r\n        window.addEventListener('keydown', e => {\r\n            if (e.keyCode === 39) {\r\n                vm.$video.pause();\r\n                vm.$video.currentTime += 5;\r\n            }\r\n            if (e.keyCode === 37) {\r\n                vm.$video.pause();\r\n                vm.$video.currentTime -= 5;\r\n            }\r\n        })\r\n\r\n    }\r\n    _message(options) {\r\n        if (options.type === 'success') {\r\n            removeClass(vm.$message, 'error')\r\n            addClass(vm.$message, 'success');\r\n        }\r\n        if (options.type === 'error') {\r\n            removeClass(vm.$message, 'success')\r\n            addClass(vm.$message, 'error');\r\n        }\r\n        vm.$message.innerText = options.message;\r\n        setTimeout(() => {\r\n            removeClass(vm.$message, 'success');\r\n            removeClass(vm.$message, 'error');\r\n            vm.$message.innerText = '';\r\n        }, vm.messageTime)\r\n    }\r\n    /** 控制事件   */\r\n    //隐藏列表图标\r\n    _setListIcon(bool) {\r\n        display(vm.$list, bool);\r\n    }\r\n    //显示控制条\r\n    _control(bool) {\r\n        bool ? addClass(vm.$control, 'active') : removeClass(vm.$control, 'active');\r\n        if (bool && vm.$video && vm.$video.mousetimer) {\r\n            clearTimeout(vm.$video.mousetimer)\r\n        }\r\n        if (vm.ctrl_fn) vm.ctrl_fn(bool, vm)\r\n    }\r\n    //设置播放图标\r\n    _setPlayIcon() {\r\n        if (vm.canplay && vm.isPlay) {\r\n            removeClass(vm.$play, 'icon-bofang');\r\n            addClass(vm.$play, 'icon-shitinghui');\r\n        } else {\r\n            removeClass(vm.$play, 'icon-shitinghui');\r\n            addClass(vm.$play, 'icon-bofang');\r\n        }\r\n    }\r\n    //列表\r\n    _closeList() {\r\n        css(vm.$listView, 'width', '0');\r\n        vm.isShowList = false;\r\n        if (vm.list_fn) vm.list_fn(vm, false);\r\n    }\r\n    _openList() {\r\n        css(vm.$listView, 'width', '245px');\r\n        vm.isShowList = true;\r\n        if (vm.list_fn) vm.list_fn(vm, true);\r\n    }\r\n\r\n    //声音\r\n    _closeVoice() {\r\n        removeClass(vm.$voice, 'icon-laba')\r\n        addClass(vm.$voice, 'icon-guanbishengyin');\r\n        vm.isVoice = false;\r\n        vm.$video.muted = true;\r\n        if (vm.voice_fn) vm.voice_fn(vm, false);\r\n    }\r\n    _openVoice() {\r\n        removeClass(vm.$voice, 'icon-guanbishengyin')\r\n        addClass(vm.$voice, 'icon-laba')\r\n        vm.isVoice = true;\r\n        vm.$video.muted = false;\r\n        if (vm.voice_fn) vm.voice_fn(vm, true);\r\n    }\r\n    //播放器\r\n    _pause() {\r\n        vm.isPlay = false;\r\n        vm.$video.pause();\r\n        vm._setPlayIcon();\r\n        removeClass(vm.$audio, 'play')\r\n        if (vm.pause_fn) {\r\n            vm.pause_fn(vm)\r\n        }\r\n    }\r\n    _play() {\r\n        vm.isPlay = true;\r\n        vm.$video.play();\r\n        vm._setPlayIcon();\r\n        addClass(vm.$audio, 'play')\r\n        if (vm.play_fn) {\r\n            vm.play_fn(vm)\r\n        }\r\n    }\r\n    //从新加载\r\n    _load() {\r\n        vm.$video.load();\r\n        vm._setPlayIcon();\r\n        if (vm.load_fn) vm.load_fn(vm);\r\n    }\r\n    _prev() {\r\n        vm.percent = 0;\r\n        vm._setBar();\r\n        vm.currentIndex--;\r\n        if (vm.currentIndex < 0) {\r\n            vm.currentIndex = vm.sources.length - 1;\r\n        }\r\n        vm._onChange(vm.currentIndex);\r\n        if (vm.$currentItem) removeClass(vm.$currentItem, 'active');\r\n        vm.$currentItem = vm.$listItme[vm.currentIndex]\r\n        addClass(vm.$currentItem, 'active');\r\n        if (vm.prev_fn) vm.prev_fn(vm)\r\n    }\r\n    _next() {\r\n        vm.percent = 0;\r\n        vm._setBar();\r\n        vm.currentIndex++;\r\n        if (vm.currentIndex > vm.sources.length - 1) {\r\n            vm.currentIndex = 0;\r\n        }\r\n        vm._onChange(vm.currentIndex);\r\n        if (vm.$currentItem) removeClass(vm.$currentItem, 'active');\r\n        vm.$currentItem = vm.$listItme[vm.currentIndex]\r\n        addClass(vm.$currentItem, 'active');\r\n        if (vm.next_fn) vm.next_fn(vm)\r\n    }\r\n    _setVideoTime() {\r\n        vm.$video.currentTime = vm.$video.duration * (vm.percent / 100);\r\n    }\r\n    _setTimeStr() {\r\n        vm.timeStr = realFormatSecond(vm.$video.currentTime);\r\n        if (vm.timeStr) {\r\n            vm.$time.innerText = vm.timeStr;\r\n            vm._statisticsDuration();//已秒计时\r\n        }\r\n    }\r\n\r\n    //全屏\r\n    _full() {\r\n        if (vm.full_fn) vm.full_fn(vm, true);\r\n        addClass(vm.$video, 'full')\r\n        removeClass(vm.$full, 'icon-quanping');\r\n        addClass(vm.$full, 'icon-eLongVideoPlayer_fullRecover');\r\n        if (vm.$el.requestFullscreen) {\r\n            vm.$el.requestFullscreen()\r\n        }\r\n        else if (vm.$el.webkitRequestFullScreen) {\r\n            vm.$el.webkitRequestFullScreen();\r\n        }\r\n        else if (vm.$el.mozRequestFullScreen) {\r\n            vm.$el.mozRequestFullScreen();\r\n        }\r\n        else {\r\n            vm.$el.msRequestFullscreen();\r\n        }\r\n\r\n        setTimeout(() => {\r\n            vm.isFull = true;\r\n        }, 300)\r\n    }\r\n    _exitFull() {\r\n        vm._exitFull_fn();\r\n        if (document.exitFullscreen) {\r\n            document.exitFullscreen();\r\n        } else if (document.msExitFullscreen) {\r\n            document.msExitFullscreen();\r\n        } else if (document.mozCancelFullScreen) {\r\n            document.mozCancelFullScreen();\r\n        } else if (document.webkitExitFullscreen) {\r\n            document.webkitExitFullscreen();\r\n        }\r\n\r\n    }\r\n\r\n    _exitFull_fn() {\r\n        vm.isFull = false;\r\n        if (vm.full_fn) vm.full_fn(vm, false);\r\n        removeClass(vm.$video, 'full');\r\n        removeClass(vm.$full, 'icon-eLongVideoPlayer_fullRecover');\r\n        addClass(vm.$full, 'icon-quanping');\r\n    }\r\n\r\n    _setSliderPointerValue(offsetX) {\r\n        let width = vm.$progress.clientWidth;\r\n        let barWidth = vm.$progressBar.clientWidth;\r\n        let left = 0;\r\n        let x = offsetX - left - barWidth / 2;\r\n        let sw = width - barWidth;\r\n        if (x <= 0) {\r\n            x = 0;\r\n        } else if (x >= sw) {\r\n            x = sw;\r\n        }\r\n\r\n        vm.percent = x / sw * 100;\r\n        vm.left = x;\r\n        vm._setBar();\r\n    }\r\n\r\n\r\n    /********工具函数*******/\r\n    //初始化播放列表\r\n    _setBar() {\r\n        css(vm.$progressBar, 'left', vm.percent + '%');\r\n        css(vm.$progressLine, 'width', vm.percent + '%')\r\n    }\r\n    _initList() {\r\n        if (vm.sources.length === 1) {\r\n            //不显示列表图标\r\n            this._setListIcon(false);\r\n            css(vm.$full, 'marginRight', '0');\r\n            display(vm.$prev, false);\r\n            display(vm.$next, false);\r\n            return;\r\n        }\r\n        let html = '';\r\n        vm.sources.map((item, i) => {\r\n            html += `<div  class=\"z-video-item\" title=\"${item.title}\">${item.title}</div>`\r\n        })\r\n        vm.$listBox.innerHTML = html;\r\n        vm.$count.innerText = vm.sources.length;\r\n\r\n        vm.$listItme = document.getElementsByClassName('z-video-item');\r\n        vm.$currentItem = null;\r\n        for (let i in vm.$listItme) {\r\n            if (vm.$listItme[i] && vm.$listItme[i].nodeType === 1) {\r\n                (($item, i) => {\r\n                    if (!vm.$currentItem && i == vm.currentIndex) {\r\n                        addClass($item, 'active');\r\n                        vm.$currentItem = $item;\r\n                    }\r\n                    $item.onclick = function (e) {\r\n                        if (vm.$currentItem) {\r\n                            removeClass(vm.$currentItem, 'active');\r\n                        }\r\n                        addClass($item, 'active');\r\n                        vm.$currentItem = $item;\r\n                        vm._onChange(i);\r\n                    }\r\n                })(vm.$listItme[i], i)\r\n            }\r\n        }\r\n    }\r\n    _onChange(i) {\r\n        vm._loading(true);\r\n        vm.percent = 0;\r\n        vm._setBar();\r\n        vm.currentIndex = i;\r\n        vm.currentItem = vm.sources[vm.currentIndex];\r\n        vm._setUrl(vm.currentItem.url);\r\n        vm._load();\r\n        display(vm.$audio, vm.currentItem.type === 'audio')\r\n    }\r\n\r\n    //设置视频地址\r\n    _setUrl(url) {\r\n        //缓存元素节流\r\n        if (!vm.sourceList) vm.sourceList = document.querySelectorAll('.z-video-source');\r\n        for (let i in vm.sourceList) {\r\n            let item = vm.sourceList[i];\r\n            if (item && item.nodeType === 1) {\r\n                item.setAttribute('src', url);\r\n            }\r\n        }\r\n    }\r\n    _loading(bool) {\r\n        display(vm.$loading, bool)\r\n    }\r\n    //统计时长\r\n    _statisticsDuration() {\r\n        let timeLength = vm.sources[vm.currentIndex].timeLength;\r\n        if (timeLength === undefined || timeLength === null) {\r\n            timeLength = -1\r\n        }\r\n        timeLength++;\r\n        vm.sources[vm.currentIndex].timeLength = timeLength;\r\n    }\r\n\r\n\r\n    /***********外包API*************/\r\n    play() { vm._play() }\r\n    pause() { vm._pause() }\r\n    prev() { vm._prev() }\r\n    next() { vm._next() }\r\n    openControl() { vm._control(true); vm.is_ctrl = false }\r\n    closeControl() { vm._control(false); vm.is_ctrl = true }\r\n    openList() { vm._openList() }\r\n    closeList() { vm._closeList() }\r\n    openVoice() { vm._openVoice() }\r\n    closeVoice() { vm._closeVoice() }\r\n    openFull() { vm._full() }\r\n    closeFull() { vm._exitFull() }\r\n    load() { vm._load() }\r\n    ///设置音频， 0 关闭音频, 大于 0 打开音频\r\n    setVoice(n) { vm.$voice.volume = n }\r\n    //事件监听： play, pause, prev, next, ctrl, list, voice, full, load error timeupdate\r\n    addEventListener(type, fn) {\r\n        vm[type + '_fn'] = fn;\r\n    }\r\n    //获取所有视频的播放时长\r\n    timeLength() {\r\n        return [...vm.sources];\r\n    }\r\n}\r\n\r\nexport default ZVideo\r\n"],"names":["$","id","document","querySelector","display","el","bool","style","addClass","cls","classList","add","removeClass","remove","css","key","val","stopEvent","e","stopPropagation","stopImmediatePropagation","window","event","cancelBubble","stopMouseEvent","onmousedown","onmouseup","curr_time","realFormatSecond","second","secondType","time","parseInt","hours","Math","floor","mimute","slice","vm","ZVideo","options","Object","assign","iconLink","isPlay","currentItem","currentIndex","percent","timeStr","durationStr","canplay","isShowList","isError","isVoice","isFull","messageTime","console","warn","_init","$el","innerHTML","autoplay","muted","loop","poster","width","height","link","createElement","setAttribute","head","appendChild","$video","$control","$play","$prev","$next","$time","$duration","$voice","$full","$list","$count","$listBox","$listView","$loading","$progress","$progressLine","$progressBar","$message","$error","$audio","Array","isArray","sources","error_fn","_message","type","message","navigator","onLine","_onChange","_initVideo","_control","_initList","_initEvent","addEventListener","duration","innerText","_play","_pause","_loading","is_ctrl","is_init","currentTime","_setTimeStr","_setBar","timeupdate_fn","$listItme","videoover","videoleave","mousetimer","setTimeout","_closeList","onmouseover","onmouseleave","onclick","_openList","_closeVoice","_openVoice","_exitFull","_full","_prev","_next","mouseDown","pause","offsetX","_setSliderPointerValue","_setVideoTime","play","onmousemove","changedTouches","clientX","_exitFull_fn","keyCode","clearTimeout","ctrl_fn","list_fn","voice_fn","_setPlayIcon","pause_fn","play_fn","load","load_fn","length","$currentItem","prev_fn","next_fn","_statisticsDuration","full_fn","requestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","clientWidth","barWidth","left","x","sw","_setListIcon","html","map","item","i","title","getElementsByClassName","nodeType","$item","_setUrl","url","_load","sourceList","querySelectorAll","timeLength","undefined","n","volume","fn"],"mappings":"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"}