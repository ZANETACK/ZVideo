{"version":3,"file":"index.js","sources":["../../src/utils.js","../../src/main.js"],"sourcesContent":["export function $(id) {\r\n    return document.querySelector(id)\r\n}\r\nexport function display(el, bool) {\r\n    el.style.display = bool ? 'inline-block' : 'none';\r\n}\r\nexport function addClass(el, cls) {\r\n    el.classList.add(cls);\r\n}\r\nexport function removeClass(el, cls) {\r\n    el.classList.remove(cls);\r\n}\r\nexport function css(el, key, val) {\r\n    el.style[key] = val;\r\n}\r\nexport function stopEvent(e) {\r\n    if (e && e.stopPropagation) {\r\n        e.stopPropagation();\r\n        e.stopImmediatePropagation()\r\n    } else {\r\n        window.event.cancelBubble = true;\r\n    }\r\n}\r\n\r\nexport function stopClick(el) {\r\n    el.onclick = function (e) {\r\n        stopEvent(e);\r\n        return false\r\n    }\r\n}\r\n\r\nexport function stopMouseEvent(el) {\r\n    el.onmousedown = function (e) {\r\n        stopEvent(e);\r\n        return false\r\n    }\r\n    el.onmouseup = function (e) {\r\n        stopEvent(e);\r\n        return false\r\n    }\r\n}\r\nlet curr_time = '00:00';\r\nexport function realFormatSecond(second) {\r\n    let secondType = typeof second;\r\n    let time = '00:00';\r\n    if (secondType === 'number' || secondType === 'string') {\r\n        second = parseInt(second);\r\n\r\n        let hours = Math.floor(second / 3600);\r\n        second = second - hours * 3600;\r\n        let mimute = Math.floor(second / 60);\r\n        second = second - mimute * 60;\r\n\r\n        time = ('0' + mimute).slice(-2) + ':' + ('0' + second).slice(-2)\r\n    } else {\r\n        time = '00:00'\r\n    }\r\n    if (curr_time === time) {\r\n        return null\r\n    } else {\r\n        curr_time = time;\r\n        return curr_time;\r\n    }\r\n}","import {\r\n    $,\r\n    display,\r\n    addClass,\r\n    css,\r\n    stopEvent,\r\n    removeClass,\r\n    realFormatSecond,\r\n    stopMouseEvent\r\n} from \"./utils\";\r\n\r\nlet vm;\r\nclass ZVideo {\r\n    constructor(options) {\r\n        vm = this;\r\n        Object.assign(vm, options, {\r\n            iconLink: '//at.alicdn.com/t/font_2197806_tdbemn1kgp.css', //图标\r\n            isPlay: false, //是否播放\r\n            currentItem: null,\r\n            currentIndex: 0,\r\n            percent: 0,\r\n            timeStr: '00:00',\r\n            durationStr: '00:00',\r\n            canplay: false,\r\n            isShowList: false,\r\n            isError: false,\r\n            isVoice: true,\r\n            isFull: false,\r\n            messageTime: 3000,\r\n            playbackRates: [0.7, 1.0, 1.5, 2.0], //播放速度\r\n            rates: 1.0, //播放速度\r\n        });\r\n        if (!vm.id) {\r\n            console.warn('请设置id')\r\n            return;\r\n        }\r\n        //初始化\r\n        this._init();\r\n    }\r\n\r\n    _init() {\r\n        //保存容器元素\r\n        vm.$el = $(this.id);\r\n        vm.$el.classList.add('z-video');\r\n        //创建视频元素 crossOrigin=\"*\"\r\n        vm.$el.innerHTML = `<div class=\"z-video-container\">\r\n                                <video  id=\"z-video\"\r\n                                        rossOrigin=\"anonymous\"\r\n                                        ${vm.autoplay && 'autoplay=\"true\"'}\r\n                                        ${vm.muted && 'muted=\"true\"'}\r\n                                        ${vm.loop && 'loop=\"true\"'}\r\n                                        ${vm.poster && `poster=\"${vm.poster}\"`}\r\n                                        style=\"width: ${vm.width ? vm.width + 'px' : '100%'};height: ${vm.height ? vm.height + 'px' : 'auto'}\">\r\n                                    <source class=\"z-video-source\" type=\"video/mp4\"/>\r\n                                    <source class=\"z-video-source\" type=\"video/ogg\"/>\r\n                                    <source class=\"z-video-source\" type=\"video/webm\"/>\r\n                                </video>\r\n                            </div>\r\n                            <div class=\"z-video-no-select z-video-control\" id=\"z-video-control\">\r\n                                <div class=\"z-progress\">\r\n                                  <i class=\"z-progress-line\" id=\"z-progress-line\"></i>\r\n                                  <i class=\"z-progress-bar\" id=\"z-progress-bar\"></i>\r\n                                  <div id=\"z-progress\" style=\"position: absolute;width: 100%;z-index: 999;height: 100%;\"></div>\r\n                                </div>\r\n                                <div class=\"z-video-control-item\">\r\n                                    <i id=\"z-play-pause\" class=\"z-play-pause iconfont ${vm.autoplay ? 'icon-shitinghui' : 'icon-bofang'}\"></i>\r\n                                    <i id=\"z-video-prev\" class=\"z-video-prev iconfont icon-shangyiji\"></i>\r\n                                    <i id=\"z-video-next\" class=\"z-video-next iconfont icon-xiayiji\"></i>\r\n                                    <span class=\"z-video-time\"><i id=\"z-video-time\">${vm.timeStr}</i> / <i id=\"z-video-duration\">${vm.durationStr}</i></span>\r\n                                </div>\r\n                                <div class=\"z-video-control-item\">\r\n                                    <i id=\"z-video-voice\" class=\"z-video-voice iconfont ${vm.isVoice ? 'icon-laba' : 'icon-guanbishengyin'}\"></i>\r\n                                    <i  class=\"z-video-rates iconfont\"><span id=\"z-video-rates\">${vm.rates}x</span><ul id=\"z-video-rates-list\" class=\"z-video-rates-list\"></ul></i>\r\n                                    <i id=\"z-video-full\" class=\"z-video-full iconfont icon-quanping\"></i>\r\n                                    <i id=\"z-video-list\" class=\"z-video-list iconfont icon-liebiao\"></i>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"z-video-list-content\" id=\"z-video-list-content\" style=\"width: 0\">\r\n                                <p class=\"z-video-play-title\"><i style=\"font-size: 14px;\" class=\"iconfont icon-dayu\"></i>播放列表（<span id=\"z-video-play-title\">0</span>）</p>\r\n                                <div class=\"z-video-list-box scrollbar\" id=\"z-video-list-box\"></div>\r\n                            </div>\r\n                            <i class=\"z-video-error iconfont icon-wangluocuowu1\" id=\"z-video-error\">网路错误</i>\r\n                            <i class=\"z-video-loading iconfont icon-jiazai\" id=\"z-video-loading\"></i>\r\n                            <span class=\"z-video-message\" id=\"z-video-message\"></span>\r\n                            <div class=\"z-video-pan\"  id=\"z-video-audio\">\r\n                                <i class=\"z-video-pan-circle c-1\"></i>\r\n                                <i class=\"z-video-pan-circle c-2\"></i>\r\n                                <i class=\"z-video-pan-circle c-3\"></i>\r\n                                <i class=\"z-video-pan-circle c-4\"></i>\r\n                                <i class=\"z-video-pan-circle c-5\"></i>\r\n                                <i class=\"z-video-pan-circle c-6\"></i>\r\n                                <i class=\"z-video-pan-circle c-7\"></i>\r\n                                <i class=\"z-video-pan-circle c-8\"></i>\r\n                                <i class=\"z-video-pan-circle c-9\"></i>\r\n                                <i class=\"z-video-pan-circle c-10\"></i>\r\n                                <i class=\"z-video-pan-circle c-11\"></i>\r\n                                <i class=\"z-video-pan-circle c-12\"></i>\r\n                                <i class=\"z-video-pan-circle c-13\"></i>\r\n                                <i class=\"z-video-pan-circle c-14\"></i>\r\n                                <i class=\"z-video-pan-circle c-15\"></i>\r\n                                <i class=\"z-video-audio iconfont icon-yinpin1\"></i>\r\n                            </div>\r\n                        `;\r\n\r\n        //设置字体图标\r\n        let link = document.createElement('link');\r\n        link.setAttribute('rel', 'stylesheet');\r\n        link.setAttribute('href', vm.iconLink);\r\n        document.head.appendChild(link);\r\n\r\n        //初始化元素\r\n        vm.$video = $('#z-video');\r\n        //控制条\r\n        vm.$control = $('#z-video-control');\r\n        //暂停播放\r\n        vm.$play = $('#z-play-pause');\r\n        //上一集\r\n        vm.$prev = $('#z-video-prev');\r\n        //下一集\r\n        vm.$next = $('#z-video-next');\r\n        //时间\r\n        vm.$time = $('#z-video-time');\r\n        //时长\r\n        vm.$duration = $('#z-video-duration');\r\n        //声音\r\n        vm.$voice = $('#z-video-voice');\r\n        //全屏\r\n        vm.$full = $('#z-video-full');\r\n        //列表\r\n        vm.$list = $('#z-video-list');\r\n        //列表个数\r\n        vm.$count = $('#z-video-play-title');\r\n        //列表容器\r\n        vm.$listBox = $('#z-video-list-box');\r\n        vm.$listView = $('#z-video-list-content');\r\n\r\n        //加载\r\n        vm.$loading = $('#z-video-loading');\r\n        //进度条\r\n        vm.$progress = $('#z-progress');\r\n        vm.$progressLine = $('#z-progress-line');\r\n        vm.$progressBar = $('#z-progress-bar');\r\n        vm.$message = $('#z-video-message');\r\n        vm.$error = $('#z-video-error');\r\n        vm.$audio = $('#z-video-audio');\r\n        vm.$rates = $('#z-video-rates');\r\n        vm.$ratesList = $('#z-video-rates-list');\r\n\r\n        if (Array.isArray(vm.playbackRates)) {\r\n            vm.playbackRates.reverse();\r\n            let html = ``;\r\n            vm.playbackRates.map(n => {\r\n                let v = n + '';\r\n                if (v.indexOf('.') < 0) {\r\n                    v += '.0'\r\n                }\r\n                html += `<li class=\"z-video-rates-item\" data-value=\"${n}\">${v}x</li>`\r\n            })\r\n            vm.$ratesList.innerHTML = html;\r\n        }\r\n\r\n\r\n        if (!Array.isArray(vm.sources)) {\r\n            vm.sources = [];\r\n            if (vm.error_fn) vm.error_fn('资源列表不能为空');\r\n            vm._message({\r\n                type: 'error',\r\n                message: '资源列表不能为空！'\r\n            })\r\n            return;\r\n        }\r\n        if (!navigator.onLine) {\r\n            vm._message({\r\n                type: 'error',\r\n                message: '网络错误！'\r\n            })\r\n            if (vm.error_fn) vm.error_fn('网络错误');\r\n            display(vm.$error, true)\r\n        }\r\n\r\n        vm._onChange(0);\r\n\r\n        vm._initVideo();\r\n\r\n        vm._control(false);\r\n        vm._initList();\r\n\r\n        //事件初始化\r\n        vm._initEvent();\r\n\r\n    }\r\n    _initVideo() {\r\n\r\n        //可以播放\r\n        vm.$video.addEventListener('canplay', () => {\r\n            vm.isError = false;\r\n            vm.canplay = true;\r\n            vm.durationStr = realFormatSecond(vm.$video.duration);\r\n            vm.$duration.innerText = vm.durationStr;\r\n            vm.isPlay ? vm._play() : vm._pause();\r\n            vm._loading(false);\r\n            if (!vm.is_ctrl && !vm.is_init) {\r\n                vm.is_init = true;\r\n                vm._control(true);\r\n            }\r\n            display(vm.$error, false);\r\n        })\r\n\r\n        //视频播放\r\n        vm.$video.addEventListener('timeupdate', (e) => {\r\n            vm.percent = (vm.$video.currentTime / vm.$video.duration) * 100;\r\n            vm._setTimeStr();\r\n            vm._setBar();\r\n            if (vm.timeupdate_fn) {\r\n                vm.timeupdate_fn(e)\r\n            }\r\n        })\r\n\r\n        vm.$video.addEventListener('ended', () => {\r\n            vm._pause();\r\n        })\r\n\r\n        vm.$video.addEventListener('error', (e) => {\r\n            vm.isError = true;\r\n            vm._pause();\r\n            if (vm.error_fn) vm.error_fn('视频加载出现错误', e);\r\n            vm._message({\r\n                type: 'error',\r\n                message: '视频加载出现错误！'\r\n            })\r\n            addClass(vm.$listItme[vm.currentIndex], 'error')\r\n        })\r\n    }\r\n\r\n    _initEvent() {\r\n        //监听鼠标移出视频容器\r\n        function videoover() {\r\n            if (vm.canplay && !vm.is_ctrl) vm._control(true);\r\n        }\r\n        function videoleave() {\r\n            vm.$video.mousetimer = setTimeout(() => {\r\n                vm._control(false);\r\n                vm._closeList();\r\n            }, 2200)\r\n        }\r\n        vm.$video.onmouseover = () => { videoover() }\r\n        vm.$video.onmouseleave = () => { videoleave() }\r\n        vm.$control.onmouseover = () => { videoover() }\r\n        vm.$control.onmouseleave = () => { videoleave() }\r\n        vm.$listView.onmouseover = () => { videoover() }\r\n        vm.$listView.onmouseleave = () => { videoleave() }\r\n        //播放暂停按钮\r\n        stopMouseEvent(vm.$play);\r\n        vm.$play.onclick = e => {\r\n            stopEvent(e);\r\n            vm.isPlay ? vm._pause() : vm._play();\r\n        }\r\n\r\n        stopMouseEvent(vm.$list);\r\n        vm.$list.onclick = e => {\r\n            stopEvent(e);\r\n            vm.isShowList ? vm._closeList() : vm._openList();\r\n        }\r\n        stopMouseEvent(vm.$voice);\r\n        vm.$voice.onclick = e => {\r\n            vm.isVoice ? vm._closeVoice() : vm._openVoice();\r\n        }\r\n        stopMouseEvent(vm.$full);\r\n        vm.$full.onclick = e => {\r\n            stopEvent(e);\r\n            vm.isFull ? vm._exitFull() : vm._full();\r\n        }\r\n        vm.$video.onclick = e => {\r\n            stopEvent(e);\r\n            vm._closeList();\r\n        }\r\n        stopMouseEvent(vm.$prev);\r\n        vm.$prev.onclick = e => {\r\n            stopEvent(e);\r\n            vm._prev()\r\n        }\r\n        stopMouseEvent(vm.$next);\r\n        vm.$next.onclick = e => {\r\n            stopEvent(e);\r\n            vm._next();\r\n        }\r\n\r\n\r\n\r\n        function onmousedown() {\r\n            vm.mouseDown = true;\r\n            addClass(vm.$progressBar, 'active')\r\n            addClass(vm.$progressBar, 'no');\r\n            vm.$video.pause();\r\n        }\r\n        function onmouseup(offsetX) {\r\n            if (vm.mouseDown) {\r\n                removeClass(vm.$progressBar, 'active');\r\n                removeClass(vm.$progressBar, 'no');\r\n                vm._setSliderPointerValue(offsetX);\r\n                vm._setVideoTime();\r\n                if (vm.isPlay) {\r\n                    vm.$video.play();\r\n                }\r\n                vm.mouseDown = false;\r\n            }\r\n        }\r\n        function onmousemove(offsetX) {\r\n            if (vm.mouseDown) {\r\n                vm._setSliderPointerValue(offsetX)\r\n            }\r\n        }\r\n\r\n        //鼠标按下\r\n        vm.$progress.onmousedown = () => {\r\n            onmousedown();\r\n        }\r\n        //鼠标抬起\r\n        vm.$progress.onmouseup = e => {\r\n            onmouseup(e.offsetX)\r\n        }\r\n\r\n        vm.$progress.onmousemove = e => {\r\n            onmousemove(e.offsetX)\r\n        }\r\n\r\n        vm.$progress.onmouseleave = e => {\r\n            onmouseup(e.offsetX)\r\n        }\r\n\r\n\r\n        vm.$progress.addEventListener('touchstart', () => {\r\n            onmousedown();\r\n        })\r\n        vm.$progress.addEventListener('touchend', e => {\r\n            onmouseup(e.changedTouches[0].clientX)\r\n        })\r\n        vm.$progress.addEventListener('touchmove', e => {\r\n            onmousemove(e.changedTouches[0].clientX)\r\n        })\r\n\r\n        window.addEventListener('online', () => {\r\n            vm._message({\r\n                type: 'success',\r\n                message: '网路已连接！'\r\n            })\r\n            display(vm.$error, false)\r\n        });\r\n\r\n        window.addEventListener('offline', () => {\r\n            vm._message({\r\n                type: 'error',\r\n                message: '网路已断开！'\r\n            })\r\n            display(vm.$error, true)\r\n        });\r\n\r\n        window.addEventListener('resize', () => {\r\n            if (vm.isFull) {\r\n                vm._exitFull_fn();\r\n            }\r\n        });\r\n\r\n        window.addEventListener('keyup', e => {\r\n            if (e.keyCode === 32) {\r\n                vm.isPlay ? vm._pause() : vm._play();\r\n            }\r\n            if (e.keyCode === 39 || e.keyCode === 37) {\r\n                vm.isPlay && vm.$video.play();\r\n            }\r\n        })\r\n        window.addEventListener('keydown', e => {\r\n            if (e.keyCode === 39) {\r\n                vm.$video.pause();\r\n                vm.$video.currentTime += 5;\r\n            }\r\n            if (e.keyCode === 37) {\r\n                vm.$video.pause();\r\n                vm.$video.currentTime -= 5;\r\n            }\r\n        })\r\n\r\n\r\n        let ratesList = vm.$ratesList.querySelectorAll('.z-video-rates-item');\r\n        if (ratesList) {\r\n            for (let i in ratesList) {\r\n                const item = ratesList[i];\r\n                if (item && item.nodeType === 1) {\r\n                    (($item, i) => {\r\n                        $item.onclick = function (e) {\r\n                            let val = e.target.dataset.value;\r\n                            vm.$rates.innerText = `${val}x`;\r\n                            vm.$video.playbackRate = val\r\n                        }\r\n                    })(item, i)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _message(options) {\r\n        if (options.type === 'success') {\r\n            removeClass(vm.$message, 'error')\r\n            addClass(vm.$message, 'success');\r\n        }\r\n        if (options.type === 'error') {\r\n            removeClass(vm.$message, 'success')\r\n            addClass(vm.$message, 'error');\r\n        }\r\n        vm.$message.innerText = options.message;\r\n        setTimeout(() => {\r\n            removeClass(vm.$message, 'success');\r\n            removeClass(vm.$message, 'error');\r\n            vm.$message.innerText = '';\r\n        }, vm.messageTime)\r\n    }\r\n    /** 控制事件   */\r\n    //隐藏列表图标\r\n    _setListIcon(bool) {\r\n        display(vm.$list, bool);\r\n    }\r\n    //显示控制条\r\n    _control(bool) {\r\n        bool ? addClass(vm.$control, 'active') : removeClass(vm.$control, 'active');\r\n        if (bool && vm.$video && vm.$video.mousetimer) {\r\n            clearTimeout(vm.$video.mousetimer)\r\n        }\r\n        if (vm.ctrl_fn) vm.ctrl_fn(bool, vm)\r\n    }\r\n    //设置播放图标\r\n    _setPlayIcon() {\r\n        if (vm.canplay && vm.isPlay) {\r\n            removeClass(vm.$play, 'icon-bofang');\r\n            addClass(vm.$play, 'icon-shitinghui');\r\n        } else {\r\n            removeClass(vm.$play, 'icon-shitinghui');\r\n            addClass(vm.$play, 'icon-bofang');\r\n        }\r\n    }\r\n    //列表\r\n    _closeList() {\r\n        css(vm.$listView, 'width', '0');\r\n        vm.isShowList = false;\r\n        if (vm.list_fn) vm.list_fn(vm, false);\r\n    }\r\n    _openList() {\r\n        css(vm.$listView, 'width', '245px');\r\n        vm.isShowList = true;\r\n        if (vm.list_fn) vm.list_fn(vm, true);\r\n    }\r\n\r\n    //声音\r\n    _closeVoice() {\r\n        removeClass(vm.$voice, 'icon-laba')\r\n        addClass(vm.$voice, 'icon-guanbishengyin');\r\n        vm.isVoice = false;\r\n        vm.$video.muted = true;\r\n        if (vm.voice_fn) vm.voice_fn(vm, false);\r\n    }\r\n    _openVoice() {\r\n        removeClass(vm.$voice, 'icon-guanbishengyin')\r\n        addClass(vm.$voice, 'icon-laba')\r\n        vm.isVoice = true;\r\n        vm.$video.muted = false;\r\n        if (vm.voice_fn) vm.voice_fn(vm, true);\r\n    }\r\n    //播放器\r\n    _pause() {\r\n        vm.isPlay = false;\r\n        vm.$video.pause();\r\n        vm._setPlayIcon();\r\n        removeClass(vm.$audio, 'play')\r\n        if (vm.pause_fn) {\r\n            vm.pause_fn(vm)\r\n        }\r\n    }\r\n    _play() {\r\n        vm.isPlay = true;\r\n        vm.$video.play();\r\n        vm._setPlayIcon();\r\n        addClass(vm.$audio, 'play')\r\n        if (vm.play_fn) {\r\n            vm.play_fn(vm)\r\n        }\r\n    }\r\n    //从新加载\r\n    _load() {\r\n        vm.$video.load();\r\n        vm._setPlayIcon();\r\n        if (vm.load_fn) vm.load_fn(vm);\r\n    }\r\n    _prev() {\r\n        vm.percent = 0;\r\n        vm._setBar();\r\n        vm.currentIndex--;\r\n        if (vm.currentIndex < 0) {\r\n            vm.currentIndex = vm.sources.length - 1;\r\n        }\r\n        vm._onChange(vm.currentIndex);\r\n        if (vm.$currentItem) removeClass(vm.$currentItem, 'active');\r\n        vm.$currentItem = vm.$listItme[vm.currentIndex]\r\n        addClass(vm.$currentItem, 'active');\r\n        if (vm.prev_fn) vm.prev_fn(vm)\r\n    }\r\n    _next() {\r\n        vm.percent = 0;\r\n        vm._setBar();\r\n        vm.currentIndex++;\r\n        if (vm.currentIndex > vm.sources.length - 1) {\r\n            vm.currentIndex = 0;\r\n        }\r\n        vm._onChange(vm.currentIndex);\r\n        if (vm.$currentItem) removeClass(vm.$currentItem, 'active');\r\n        vm.$currentItem = vm.$listItme[vm.currentIndex]\r\n        addClass(vm.$currentItem, 'active');\r\n        if (vm.next_fn) vm.next_fn(vm)\r\n    }\r\n    _setVideoTime() {\r\n        vm.$video.currentTime = vm.$video.duration * (vm.percent / 100);\r\n    }\r\n    _setTimeStr() {\r\n        vm.timeStr = realFormatSecond(vm.$video.currentTime);\r\n        if (vm.timeStr) {\r\n            vm.$time.innerText = vm.timeStr;\r\n            vm._statisticsDuration();//已秒计时\r\n        }\r\n    }\r\n\r\n    //全屏\r\n    _full() {\r\n        if (vm.full_fn) vm.full_fn(vm, true);\r\n        addClass(vm.$video, 'full')\r\n        removeClass(vm.$full, 'icon-quanping');\r\n        addClass(vm.$full, 'icon-eLongVideoPlayer_fullRecover');\r\n        if (vm.$el.requestFullscreen) {\r\n            vm.$el.requestFullscreen()\r\n        }\r\n        else if (vm.$el.webkitRequestFullScreen) {\r\n            vm.$el.webkitRequestFullScreen();\r\n        }\r\n        else if (vm.$el.mozRequestFullScreen) {\r\n            vm.$el.mozRequestFullScreen();\r\n        }\r\n        else {\r\n            vm.$el.msRequestFullscreen();\r\n        }\r\n\r\n        setTimeout(() => {\r\n            vm.isFull = true;\r\n        }, 300)\r\n    }\r\n    _exitFull() {\r\n        vm._exitFull_fn();\r\n        if (document.exitFullscreen) {\r\n            document.exitFullscreen();\r\n        } else if (document.msExitFullscreen) {\r\n            document.msExitFullscreen();\r\n        } else if (document.mozCancelFullScreen) {\r\n            document.mozCancelFullScreen();\r\n        } else if (document.webkitExitFullscreen) {\r\n            document.webkitExitFullscreen();\r\n        }\r\n\r\n    }\r\n\r\n    _exitFull_fn() {\r\n        vm.isFull = false;\r\n        if (vm.full_fn) vm.full_fn(vm, false);\r\n        removeClass(vm.$video, 'full');\r\n        removeClass(vm.$full, 'icon-eLongVideoPlayer_fullRecover');\r\n        addClass(vm.$full, 'icon-quanping');\r\n    }\r\n\r\n    _setSliderPointerValue(offsetX) {\r\n        let width = vm.$progress.clientWidth;\r\n        let barWidth = vm.$progressBar.clientWidth;\r\n        let left = 0;\r\n        let x = offsetX - left - barWidth / 2;\r\n        let sw = width - barWidth;\r\n        if (x <= 0) {\r\n            x = 0;\r\n        } else if (x >= sw) {\r\n            x = sw;\r\n        }\r\n\r\n        vm.percent = x / sw * 100;\r\n        vm.left = x;\r\n        vm._setBar();\r\n    }\r\n\r\n\r\n    /********工具函数*******/\r\n    //初始化播放列表\r\n    _setBar() {\r\n        css(vm.$progressBar, 'left', vm.percent + '%');\r\n        css(vm.$progressLine, 'width', vm.percent + '%')\r\n    }\r\n    _initList() {\r\n        if (vm.sources.length === 1) {\r\n            //不显示列表图标\r\n            this._setListIcon(false);\r\n            css(vm.$full, 'marginRight', '0');\r\n            display(vm.$prev, false);\r\n            display(vm.$next, false);\r\n            return;\r\n        }\r\n        let html = '';\r\n        vm.sources.map((item, i) => {\r\n            html += `<div  class=\"z-video-item\" title=\"${item.title}\">${item.title}</div>`\r\n        })\r\n        vm.$listBox.innerHTML = html;\r\n        vm.$count.innerText = vm.sources.length;\r\n\r\n        vm.$listItme = document.getElementsByClassName('z-video-item');\r\n        vm.$currentItem = null;\r\n        for (let i in vm.$listItme) {\r\n            if (vm.$listItme[i] && vm.$listItme[i].nodeType === 1) {\r\n                (($item, i) => {\r\n                    if (!vm.$currentItem && i == vm.currentIndex) {\r\n                        addClass($item, 'active');\r\n                        vm.$currentItem = $item;\r\n                    }\r\n                    $item.onclick = function (e) {\r\n                        if (vm.$currentItem) {\r\n                            removeClass(vm.$currentItem, 'active');\r\n                        }\r\n                        addClass($item, 'active');\r\n                        vm.$currentItem = $item;\r\n                        vm._onChange(i);\r\n                    }\r\n                })(vm.$listItme[i], i)\r\n            }\r\n        }\r\n    }\r\n    _onChange(i) {\r\n        vm._loading(true);\r\n        vm.percent = 0;\r\n        vm._setBar();\r\n        vm.currentIndex = i;\r\n        vm.currentItem = vm.sources[vm.currentIndex];\r\n        vm._setUrl(vm.currentItem.url);\r\n        vm._load();\r\n        display(vm.$audio, vm.currentItem.type === 'audio')\r\n    }\r\n\r\n    //设置视频地址\r\n    _setUrl(url) {\r\n        //缓存元素节流\r\n        if (!vm.sourceList) vm.sourceList = document.querySelectorAll('.z-video-source');\r\n        for (let i in vm.sourceList) {\r\n            let item = vm.sourceList[i];\r\n            if (item && item.nodeType === 1) {\r\n                item.setAttribute('src', url);\r\n            }\r\n        }\r\n    }\r\n    _loading(bool) {\r\n        display(vm.$loading, bool)\r\n    }\r\n    //统计时长\r\n    _statisticsDuration() {\r\n        let timeLength = vm.sources[vm.currentIndex].timeLength;\r\n        if (timeLength === undefined || timeLength === null) {\r\n            timeLength = -1\r\n        }\r\n        timeLength++;\r\n        vm.sources[vm.currentIndex].timeLength = timeLength;\r\n    }\r\n\r\n\r\n    /***********外包API*************/\r\n    play() { vm._play() }\r\n    pause() { vm._pause() }\r\n    prev() { vm._prev() }\r\n    next() { vm._next() }\r\n    openControl() { vm._control(true); vm.is_ctrl = false }\r\n    closeControl() { vm._control(false); vm.is_ctrl = true }\r\n    openList() { vm._openList() }\r\n    closeList() { vm._closeList() }\r\n    openVoice() { vm._openVoice() }\r\n    closeVoice() { vm._closeVoice() }\r\n    openFull() { vm._full() }\r\n    closeFull() { vm._exitFull() }\r\n    load() { vm._load() }\r\n    ///设置音频， 0 关闭音频, 大于 0 打开音频\r\n    setVoice(n) { vm.$voice.volume = n }\r\n    //事件监听： play, pause, prev, next, ctrl, list, voice, full, load error timeupdate\r\n    addEventListener(type, fn) {\r\n        vm[type + '_fn'] = fn;\r\n    }\r\n    //获取所有视频的播放时长\r\n    timeLength() {\r\n        return [...vm.sources];\r\n    }\r\n}\r\n\r\nexport default ZVideo\r\n"],"names":["$","id","document","querySelector","display","el","bool","style","addClass","cls","classList","add","removeClass","remove","css","key","val","stopEvent","e","stopPropagation","stopImmediatePropagation","window","event","cancelBubble","stopMouseEvent","onmousedown","onmouseup","curr_time","realFormatSecond","second","secondType","time","parseInt","hours","Math","floor","mimute","slice","vm","ZVideo","options","Object","assign","iconLink","isPlay","currentItem","currentIndex","percent","timeStr","durationStr","canplay","isShowList","isError","isVoice","isFull","messageTime","playbackRates","rates","console","warn","_init","$el","innerHTML","autoplay","muted","loop","poster","width","height","link","createElement","setAttribute","head","appendChild","$video","$control","$play","$prev","$next","$time","$duration","$voice","$full","$list","$count","$listBox","$listView","$loading","$progress","$progressLine","$progressBar","$message","$error","$audio","$rates","$ratesList","Array","isArray","reverse","html","map","n","v","indexOf","sources","error_fn","_message","type","message","navigator","onLine","_onChange","_initVideo","_control","_initList","_initEvent","addEventListener","duration","innerText","_play","_pause","_loading","is_ctrl","is_init","currentTime","_setTimeStr","_setBar","timeupdate_fn","$listItme","videoover","videoleave","mousetimer","setTimeout","_closeList","onmouseover","onmouseleave","onclick","_openList","_closeVoice","_openVoice","_exitFull","_full","_prev","_next","mouseDown","pause","offsetX","_setSliderPointerValue","_setVideoTime","play","onmousemove","changedTouches","clientX","_exitFull_fn","keyCode","ratesList","querySelectorAll","i","item","nodeType","$item","target","dataset","value","playbackRate","clearTimeout","ctrl_fn","list_fn","voice_fn","_setPlayIcon","pause_fn","play_fn","load","load_fn","length","$currentItem","prev_fn","next_fn","_statisticsDuration","full_fn","requestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","clientWidth","barWidth","left","x","sw","_setListIcon","title","getElementsByClassName","_setUrl","url","_load","sourceList","timeLength","undefined","volume","fn"],"mappings":"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"}